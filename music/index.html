<!doctype html>
<html lang="de" data-size="M">
  <head>
    <meta charset="utf-8" />
    <title>Jonathan Heart</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="musician Â· producer Â· mixing engineer" />

  <style>
    :root { --muted:#bdbdbd; --accent:#235ac0 }
    .home-link:link, .home-link:visited { color: var(--muted); text-decoration: none }
    .home-icon { width:24px; height:24px; display:block }
    @media (hover:hover){ .home-link:hover { color: var(--accent) } }
  </style>
    
    <link rel="stylesheet" href="../styles.css" />
  </head>

  <style>
  /* Overlay-Optik fÃ¼r blockierte Embeds */
  .requires-consent {
    display:block; width:100%; height:100%;
    border:0; background:#000; opacity:.25; pointer-events:none;
  }
  .embed.consent-blocked { position:relative; }
  .embed.consent-blocked::before {
    content:"Externes Medium ist blockiert (YouTube/Spotify).";
    position:absolute; inset:auto 12px 12px 12px;
    padding:10px 12px; border-radius:10px;
    background:rgba(0,0,0,.7); color:#fff; font-size:14px; line-height:1.4;
  }

  /* Mini-Popup unten rechts */
  .consent-pop {
    position: fixed; right: 16px; bottom: 16px; z-index: 9999;
    max-width: 360px; background: rgba(20,20,20,.98); color:#eee;
    border:1px solid rgba(255,255,255,.12); border-radius: 12px;
    padding: 14px 14px 12px; box-shadow: 0 10px 30px rgba(0,0,0,.4);
    font: 14px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  }
  .consent-pop h3 { margin: 0 0 6px; font-size: 15px; }
  .consent-pop p  { margin: 0 0 10px; color:#cfcfcf; }
  .consent-pop .row { display:flex; gap:8px; flex-wrap:wrap; margin-top: 8px; }
  .consent-btn {
    appearance: none; border:1px solid rgba(255,255,255,.16);
    padding:8px 12px; border-radius:10px; background:#161616; color:#eee; cursor:pointer;
  }
  .consent-btn.primary { background:#235ac0; border-color:#235ac0; color:#fff; }
  .consent-pop a { color:#cfe1ff; text-decoration:none; }
  .consent-pop a:hover { text-decoration:underline; }

  /* Optional: kleiner â€žMedien-Einstellungenâ€œ-Link im Footer kann diese Klasse nutzen */
  .media-settings-link { opacity:.85 }
  .media-settings-link:hover { opacity:1 }
</style>

<!-- Popup (wird per JS nur gezeigt, wenn noch keine Entscheidung vorliegt) -->
<div id="media-consent" class="consent-pop" hidden>
  <h3>Externe Medien</h3>
  <p>Diese Seite kann Inhalte von <strong>YouTube</strong> & <strong>Spotify</strong> laden. 
     Mit â€žAkzeptierenâ€œ erlaubst du die DatenÃ¼bertragung an diese Anbieter. 
     Du kannst das spÃ¤ter im Footer unter â€žMedien-Einstellungenâ€œ Ã¤ndern.</p>
  <div class="row">
    <button class="consent-btn" data-action="deny">Nur notwendige</button>
    <button class="consent-btn primary" data-action="allow">Akzeptieren</button>
    <a href="../datenschutz.html" class="consent-btn" style="text-decoration:none">Mehr erfahren</a>
  </div>
</div>

<script>
(() => {
  const KEY = 'mediaConsentV1'; // 'allow' | 'deny'
  const EXT_SRC = /^(https?:\/\/(?:www\.)?(?:youtube(?:-nocookie)?\.com|youtu\.be|open\.spotify\.com))/i;

  // ---------- persistence (LS + cookie fallback) ----------
  function setConsent(val){
    try { localStorage.setItem(KEY, val); } catch(_) {}
    // cookie for Safari / private mode / sub-doc reloads
    document.cookie = KEY + '=' + encodeURIComponent(val) + '; Max-Age='+(3600*24*365)+'; Path=/; SameSite=Lax';
  }
  function getConsent(){
    let v = null;
    try { v = localStorage.getItem(KEY); } catch(_) {}
    if (!v) {
      const m = document.cookie.match(new RegExp('(?:^|; )' + KEY + '=([^;]*)'));
      if (m) v = decodeURIComponent(m[1]);
    }
    return v;
  }
  function clearConsent(){
    try { localStorage.removeItem(KEY); } catch(_) {}
    document.cookie = KEY + '=; Max-Age=0; Path=/; SameSite=Lax';
  }

  // ---------- DOM helpers ----------
  function markBlocked(ifr){
    if (!ifr.classList.contains('requires-consent')) {
      ifr.classList.add('requires-consent');
    }
    const wrap = ifr.closest('.embed') || ifr.parentElement;
    if (wrap) wrap.classList.add('consent-blocked');
  }
  function unmarkBlocked(ifr){
    ifr.classList.remove('requires-consent');
    const wrap = ifr.closest('.embed') || ifr.parentElement;
    if (wrap) wrap.classList.remove('consent-blocked');
    ifr.style.opacity = ''; ifr.style.pointerEvents = '';
  }

  // Move src->data-src and mark for consent
  function prepareIframes(root=document){
    root.querySelectorAll('iframe').forEach(ifr => {
      const src = ifr.getAttribute('src');
      const ds  = ifr.getAttribute('data-src');
      // Normalize: any external src or data-src gets moved to data-src and blocked
      if (src && EXT_SRC.test(src)) {
        ifr.setAttribute('data-src', src);
        ifr.removeAttribute('src');
      }
      const finalDS = ifr.getAttribute('data-src');
      if (finalDS && EXT_SRC.test(finalDS)) {
        markBlocked(ifr);
      }
    });
  }

  // Load all permitted iframes
  function loadAll(){
    document.querySelectorAll('iframe.requires-consent[data-src]').forEach(ifr => {
      const ds = ifr.getAttribute('data-src');
      if (!ds) return;
      ifr.src = ds;
      ifr.removeAttribute('data-src');
      unmarkBlocked(ifr);
    });
  }

  // Ensure state after short delays (covers late/slow DOM work)
  function ensureEmbeds(){
    const consent = getConsent();
    if (consent === 'allow') {
      prepareIframes();
      loadAll();
    } else {
      prepareIframes();
      // keep blocked
    }
  }

  // Popup wiring (expecting your #media-consent box from earlier)
  function initPopup(){
    const pop = document.getElementById('media-consent');
    if (!pop) return; // if you placed popup only on some pages, that's fine
    const consent = getConsent();
    if (consent === 'allow') {
      pop.hidden = true;
      return;
    }
    // Show popup if not allowed yet (includes 'deny' and null)
    pop.hidden = false;
    pop.addEventListener('click', e => {
      const btn = e.target.closest('[data-action]');
      if (!btn) return;
      const action = btn.getAttribute('data-action'); // 'allow' | 'deny'
      setConsent(action);
      if (action === 'allow') {
        loadAll();
      } // if deny: stay blocked; popup hides but will reappear on next load
      pop.hidden = true;
    });
  }

  // Expose reset for your footer link
  window.resetMediaConsent = () => { clearConsent(); location.reload(); };

  // ---------- boot sequence ----------
  function boot(){
    // 1) prep existing iframes immediately
    prepareIframes();

    // 2) load (if already allowed)
    if (getConsent() === 'allow') loadAll();

    // 3) wire popup
    initPopup();

    // 4) watch for dynamically added iframes (cms, tabs, etc.)
    const mo = new MutationObserver(muts => {
      let needEnsure = false;
      muts.forEach(m => {
        m.addedNodes.forEach(n => {
          if (n.nodeType === 1) {
            if (n.tagName === 'IFRAME' || n.querySelector?.('iframe')) needEnsure = true;
          }
        });
      });
      if (needEnsure) ensureEmbeds();
    });
    mo.observe(document.documentElement, { childList:true, subtree:true });

    // 5) safety re-checks (timing robustness)
    setTimeout(ensureEmbeds, 50);
    setTimeout(ensureEmbeds, 300);
    window.addEventListener('load', () => setTimeout(ensureEmbeds, 0));
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', boot, { once:true });
  } else {
    boot();
  }
})();
</script>




  <body>

    <!-- Fixed Top Navigation -->
    <header class="site-nav">
      <nav class="wrap">
        <!-- WeiÃŸes Haus-Icon als SVG -->
        <a href="#top" class="home-link" aria-label="Home">
          <svg class="home-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
            <path d="M3 9.5l9-7 9 7V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V9.5z"/>
          </svg>
        </a>

        <!-- Rechts: Navigation-->
        <ul class="nav-list">
          <li><a href="#about">about</a></li>
          <li><a href="#work">selected work</a></li>
          <li><a href="#music">music</a></li>
          <li><a href="#studio">studio</a></li>
          <li><a href="#services">services</a></li>
          <li><a href="#clients">clients</a></li>
          <li><a href="#contact">contact</a></li>
        </ul>

        <!-- Burger-Button (nur sichtbar auf Mobilea) -->
        <button class="burger" type="button"
          aria-label="Menu"
          aria-controls="mobile-menu"
          aria-expanded="false">â˜°
        </button>
      </nav>
    </header>

    <!-- Landing Hero (zentriert, wie John Mayer) -->
    <section class="hero landing">
      <div class="hero-inner">
        <h1 class="hero-title">Jonathan Heart</h1>
        <p class="hero-subtitle">musician Â· producer Â· mixing engineer</p>
        <div class="social-links">
          <a href="https://instagram.com/deinprofil" target="_blank" aria-label="Instagram">
            <span class="icon-mask" style="--icon: url('assets/icons/Instagram.svg')"></span>
          </a>
          <a href="https://open.spotify.com/artist/deinid" target="_blank" aria-label="Spotify">
            <span class="icon-mask" style="--icon: url('assets/icons/Spotify.svg')"></span>
          </a>
          <a href="https://youtube.com/@deinprofil" target="_blank" aria-label="YouTube">
            <span class="icon-mask" style="--icon: url('assets/icons/Youtube.svg'); width:44px;"></span>
          </a>
          <a href="mailto:deineadresse@email.com" target="_blank" aria-label="Email">
            <span class="icon-mask" style="--icon: url('assets/icons/Mail.svg'); width:41px;"></span>
          </a>
        </div>
       
      </div>
    </section>

    <!-- Erste Content Section -->
    <section id="about" class="wrap section">
      <h2>about.</h2>
      <div>
      </div>
      <div class="split">
        <img src="../assets/img/Rose Guitar Square.jpg" alt="Jonathan Heart" class="content-img">
        <div>
          <p class="slogan">clarity through distortion.</p>
          <p>Jonathan Heart is a musician, producer and mixing engineer based in Berlin, Germany. His approach is shaped as much by instruments and live playing as by the technical craft of sound.</p>
          <p>In the studio he is less interested in perfection than in presence, keeping the rough edges that carry emotion. Mixing and mastering are ways of listening closely to the stories of others and enhancing them without erasing what makes them human.</p>
          <p>As part of <em>badbadbad.</em> and in support of <em>JoÃ«l JoÃ£o</em>, Jonathan extends this philosophy into collaboration. On stage he is not looking for praise but for resonance, using sound as a way to connect and communicate.</p>
          <p>After years in the studio and on stage technical abilities have moved to the background and made way for an understanding of music as a means to evoke emotion.</p>
        </div>
      </div>
    </section>

    <section id="work" class="wrap section">
      <h2>selected work.</h2>

      <div class="media-grid">

          <!-- Spotify Playlist (fixe HÃ¶he via CSS-Variable; GrÃ¶ÃŸe mit .s/.m/.l steuerbar) -->
          <div class="embed spotify">
            <iframe
              class="requires-consent"
              data-src="https://open.spotify.com/embed/playlist/3Dx1Mv3YxzqyDBACvLPxs4?utm_source=generator&theme=0"
              loading="lazy"
              allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
              allowfullscreen>
            </iframe>
          </div>
          <!-- YouTube Playlist (responsiv 16:9 via CSS) -->
          <div class="embed youtube">
            <iframe
              class="requires-consent"
              data-src="https://www.youtube.com/embed/hkcfdRgLheQ?si=AkYb-eO_d8HOrZc8"
              title="YouTube Playlist"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>

          <div class="embed youtube">
            <iframe
              class="requires-consent"
              data-src="https://www.youtube.com/embed/EthbAJ00iqg?si=SSlg-FPbyOAa0HfJ"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>

          <div class="embed youtube">
            <iframe
              class="requires-consent"
              data-src="https://www.youtube.com/embed/DV68w9O-R9E?si=RhxlV3EuEdjDJdax"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>

          <div class="embed youtube">
            <iframe
              class="requires-consent"
              data-src="https://www.youtube.com/embed/REbrKoZy1YI?si=v2KlKfX2F-7jrz2e"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>

          <div class="embed youtube">
            <iframe
              class="requires-consent"
              data-src="https://www.youtube.com/embed/Ic5oqa0zLKM?si=HDdqKrm-X4Xc3vlZ"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>

          <div class="embed youtube">
            <iframe
              class="requires-consent"
              data-src="https://www.youtube.com/embed/Y3vEmhQQbto?si=yOWsaC8aVG_hCxOC"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>

          <div class="embed youtube">
            <iframe
              class="requires-consent"
              data-src="https://www.youtube.com/embed/RtfhpJwiSDU?si=RO1D4SPHQDZPzsBt"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>     
      </div>
    </section>

    <section id="music" class="wrap section">
      <h2>music.</h2>
      <div class="media-grid">

        <div class="embed video">
          <video controls preload="none" playsinline webkit-playsinline data-autoposter>
            <source src="../assets/video/Day_at_the_Stu_web.mp4" type="video/mp4" />
          </video>
        </div>

        <div class="embed video">
          <video controls preload="none" playsinline webkit-playsinline data-autoposter>
            <source src="../assets/video/Just a little progression I came up with.mp4" type="video/mp4" />
          </video>
        </div>

        <div class="embed video">
          <video controls preload="none" playsinline webkit-playsinline data-autoposter>
            <source src="../assets/video/six six strings v4.mp4" type="video/mp4" />
          </video>
        </div>

        <div class="embed video">
          <video controls preload="none" playsinline webkit-playsinline data-autoposter>
            <source src="../assets/video/Bass playing/Is this hope.mp4" type="video/mp4" />
          </video>
        </div>

        <div class="embed video">
          <video controls preload="none" playsinline webkit-playsinline data-autoposter>
            <source src="../assets/video/Bass playing/melody.mp4" type="video/mp4" />
          </video>
        </div>

        <div class="embed video">
          <video controls preload="none" playsinline webkit-playsinline data-autoposter>
            <source src="../assets/video/Bass playing/Quicksand.mp4" type="video/mp4" />
          </video>
        </div>

      </div>
    </section>

    <section id="studio" class="wrap section">
      <h2>studio.</h2>

      <div class="gallery-layout">
        <div id="gallery" class="media-grid"></div>
          <aside class="gallery-footer">
            <button id="gallery-more" class="btn-more" hidden>Load more</button>
          </aside>
        </div>

      <!-- Lightbox mit Navigation -->
      <div id="lightbox" class="lightbox" hidden>
        <button class="lb-close" aria-label="Close">Ã—</button>
        <button class="lb-nav lb-prev" aria-label="Previous">â€¹</button>
        <img id="lightbox-img" alt="">
        <button class="lb-nav lb-next" aria-label="Next">â€º</button>
        <div class="lb-counter"><span id="lb-i">1</span>/<span id="lb-n">1</span></div>
      </div>
        <!-- Leistungen/Referenzen -->
    </section>

    <section id="services" class="wrap section">
  <h2>services.</h2>

  <div class="services-grid">
    <!-- Mixing & Mastering -->
    <article class="service-card">
      <h3>Mixing & Mastering</h3>
      <a class="service-img" href="#contact">
        <img src="../assets/img/services/mixing.jpg" alt="Mixing console">
      </a>
      <p class="service-desc">Single Â· EP Â· Album. Clean & punchy without losing the vibe.</p>
    </article>

    <!-- Recording & Producing -->
    <article class="service-card">
      <h3>Recording & Producing</h3>
      <a class="service-img" href="#contact">
        <img src="../assets/img/services/recording.jpg" alt="Recording session">
      </a>
      <p class="service-desc">Vocals, guitars, bass. Mobile or studio â€” capture with intent.</p>
    </article>

    <!-- Session / Live Playing -->
    <article class="service-card">
      <h3>Session & Live</h3>
      <a class="service-img" href="#contact">
        <img src="../assets/img/services/session.png" alt="Session & live playing">
      </a>
      <p class="service-desc">Bass & guitar for your track or stage â€” tight, musical, reliable.</p>
    </article>
  </div>
    <!-- zentraler Booking-Button -->
  <aside class="gallery-footer">
<a class="btn-more" href="#contact">Contact / Booking</a>
</section>

<section id="clients" class="wrap section">
  <h2>clients.</h2>
  <ul class="clients-grid">
    <li class="client-item">Artist / Band 1</li>
    <li class="client-item">Artist / Band 2</li>
    <li class="client-item">Artist / Band 3</li>
    <li class="client-item">Artist / Band 4</li>
    <li class="client-item">Artist / Band 5</li>
    <li class="client-item">Artist / Band 6</li>
    <li class="client-item">Artist / Band 7</li>
    <li class="client-item">Artist / Band 8</li>
    <li class="client-item">Artist / Band 9</li>
    <!-- â€¦ beliebig erweitern â€¦ -->
  </ul>
</section>

<section id="contact" class="wrap section">
  <h2>contact.</h2>
  <div class="contact-info">
    <p><strong>Jonathan Heart</strong></p>
    <p><a href="mailto:booking@deinedomain.com">booking@deinedomain.com</a></p>
    <p>Telefon: +49 123 456789</p>
  </div>
</section>


    <footer class="footer">
      <p class="social-links">
        <a href="https://instagram.com/deinprofil" target="_blank" aria-label="Instagram">
          <span class="icon-mask" style="--icon: url('assets/icons/Instagram.svg'); width: 25px;"></span>
        </a>
        <a href="https://open.spotify.com/artist/deinid" target="_blank" aria-label="Spotify">
          <span class="icon-mask" style="--icon: url('assets/icons/Spotify.svg'); width: 25px"></span>
        </a>
        <a href="https://youtube.com/@deinprofil" target="_blank" aria-label="YouTube">
          <span class="icon-mask" style="--icon: url('assets/icons/Youtube.svg'); width: 28px;"></span>
        </a>
        <a href="mailto:deineadresse@email.com" target="_blank" aria-label="Email">
          <span class="icon-mask" style="--icon: url('assets/icons/Mail.svg'); width: 28px;"></span>
        </a>
      </p>

      <p>
        <a href="../impressum.html">Impressum</a> | 
        <a href="../datenschutz.html">DatenschutzerklÃ¤rung</a> |
        <a href="#" class="media-settings-link" onclick="resetMediaConsent();return false;">Medien-Einstellungen</a>
      </p>

      <p>Â© <span id="y"></span> Jonathan Heart
      </p>

    </footer>

    <script>document.getElementById("y").textContent = new Date().getFullYear();</script>

<!-- Java Scripts-->

<script>
(() => {
  const burger  = document.querySelector('.burger');
  const srcList = document.querySelector('.site-nav .nav-list');
  if (!burger || !srcList) return;

  let overlay = null;         // <- auÃŸerhalb, damit resize ihn sieht
  let initialized = false;

  function isOpen() { return overlay && overlay.hasAttribute('data-open'); }

  function openMenu() {
    if (!overlay) return;
    overlay.setAttribute('data-open', '');
    overlay.removeAttribute('aria-hidden');
    document.body.classList.add('menu-open');
    burger.setAttribute('aria-expanded', 'true');
    burger.classList.add('active');
  }

  function closeMenu(animated = true) {
    if (!overlay) return;
    if (!animated) overlay.classList.add('no-anim');
    overlay.removeAttribute('data-open');
    overlay.setAttribute('aria-hidden', 'true');
    document.body.classList.remove('menu-open');
    burger.setAttribute('aria-expanded', 'false');
    burger.classList.remove('active');
    if (!animated) requestAnimationFrame(() => overlay.classList.remove('no-anim'));
  }

  function handleBurgerClick() {
    isOpen() ? closeMenu(true) : openMenu();
  }
  function handleOverlayClick(e) {
    if (e.target.closest('a')) closeMenu(true);
  }
  function handleKeydown(e) {
    if (e.key === 'Escape' && isOpen()) closeMenu(true);
  }

  // --- nur auf Mobile initialisieren ---
  function initMobile() {
    if (initialized) return;

    // Overlay erzeugen (ohne .nav-list, sonst erbt es Desktop-Styles)
    overlay = document.getElementById('mobile-menu');
    if (!overlay) {
      overlay = document.createElement('ul');
      overlay.id = 'mobile-menu';
      overlay.className = 'nav-overlay';
      overlay.innerHTML = `${srcList.innerHTML}
        <li class="nav-footer">
          <p>Â© ${new Date().getFullYear()} Jonathan Heart<br>
          musician Â· producer Â· mixing engineer</p>
        </li>`;
      overlay.setAttribute('aria-hidden', 'true');
      document.body.appendChild(overlay);
    }

    // Listener binden
    burger.addEventListener('click', handleBurgerClick);
    overlay.addEventListener('click', handleOverlayClick);
    window.addEventListener('keydown', handleKeydown);

    // ARIA
    if (!burger.hasAttribute('type')) burger.setAttribute('type', 'button');
    burger.setAttribute('aria-controls', 'mobile-menu');
    burger.setAttribute('aria-expanded', 'false');

    initialized = true;
  }

  // --- beim Wechsel auf Desktop wieder abbauen ---
  function teardownDesktop() {
    if (!initialized) return;
    closeMenu(true);
    burger.removeEventListener('click', handleBurgerClick);
    if (overlay) overlay.removeEventListener('click', handleOverlayClick);
    window.removeEventListener('keydown', handleKeydown);
    if (overlay && overlay.parentNode) overlay.parentNode.removeChild(overlay);
    overlay = null;
    initialized = false;
  }

  // Breite beobachten und Zustand synchronisieren
  function syncStateToViewport() {
    if (window.innerWidth <= 900) {
      initMobile();
    } else {
      teardownDesktop();
    }
  }

    // Home-Icon/Link: immer (auch auf Desktop) sofort schlieÃŸen, falls offen
  const home = document.querySelector('.home-link');
  if (home) {
    home.addEventListener('click', () => { if (isOpen()) closeMenu(false); });
    home.addEventListener('touchend', () => { if (isOpen()) closeMenu(false); }, { passive: true });
  }


  // Start + live auf Resize
  syncStateToViewport();
  window.addEventListener('resize', syncStateToViewport, { passive: true });
})();
</script>








    <script>
    (() => {
      const vids = [...document.querySelectorAll('video[data-autoposter]')];

      const makePoster = (vid) => {
        // Quelle holen
        const srcEl = vid.querySelector('source');
        const src = srcEl ? srcEl.src : vid.currentSrc;
        if (!src) return;

        // Offscreen-Video zum Frame-Grab
        const temp = document.createElement('video');
        temp.muted = true;
        temp.playsInline = true;
        temp.preload = 'auto';
        temp.crossOrigin = 'anonymous'; // fÃ¼r gleiche Domain ok; bei CDN CORS-Header nÃ¶tig

        const s = document.createElement('source');
        s.src = src; s.type = 'video/mp4';
        temp.appendChild(s);

        // 1) Metadaten da -> auf Frame 0.05s springen
        temp.addEventListener('loadedmetadata', () => {
          try { temp.currentTime = 0.05; } catch(e) { /* iOS kann gleich seeken */ }
        }, { once: true });

        // 2) Nach dem Seek Frame in Canvas ziehen -> poster setzen
        temp.addEventListener('seeked', () => {
          try {
            const c = document.createElement('canvas');
            c.width = temp.videoWidth; c.height = temp.videoHeight;
            c.getContext('2d').drawImage(temp, 0, 0, c.width, c.height);
            const dataURL = c.toDataURL('image/jpeg', 0.72);
            vid.setAttribute('poster', dataURL);
          } catch (e) {
            // Wenn CORS blockt: Poster bleibt leer (kein Beinbruch)
          }
          // AufrÃ¤umen
          temp.pause();
          temp.removeAttribute('src');
          while (temp.firstChild) temp.removeChild(temp.firstChild);
        }, { once: true });

        temp.load();
      };

      const io = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (!entry.isIntersecting) return;
          const vid = entry.target;
          obs.unobserve(vid);
          if (!vid.getAttribute('poster')) makePoster(vid);
        });
      }, { rootMargin: '200px' });

      vids.forEach(v => io.observe(v));
    })();
    </script>

    <!-- Bilder Gallery Studio Script-->
    <script>
    (async () => {
      const grid = document.querySelector('#gallery');
      const btn  = document.querySelector('#gallery-more');

      const PAGE = 4; // initial 6 Bilder, bleibt wie bei dir
      const BASE = '../assets/img/gallery/Studio%20Bilder/';
      const EXT  = 'jpg';

      let items = [], i = 0;
      let anchors = [];   // <a.photo>-Liste
      let idx = 0;        // aktueller Index in Lightbox
      let touchStartX = null;

      try {
        const res = await fetch(`${BASE}manifest.json`);
        items = await res.json();
      } catch (e) {
        console.warn('No gallery manifest', e);
      }

      const fullPath = id => `${BASE}full/${id}.${EXT}`;

      function refreshAnchors(){
        anchors = Array.from(grid.querySelectorAll('a.photo'));
        anchors.forEach((a, k) => a.dataset.index = String(k)); // k == Index in items fÃ¼r bisher gerenderte
        // lbN NICHT hier setzen
      }

      grid.addEventListener('click', (e) => {
        const a = e.target.closest('a.photo');
        if (!a) return;
        e.preventDefault();
        openLightbox(parseInt(a.dataset.index || '0', 10)); // <- dieser Index gilt jetzt global in items
      });

      function renderNext(n = PAGE) {
        const slice = items.slice(i, i + n);
        slice.forEach((it) => {
          const id  = it.id || it.file?.replace(/\.\w+$/, '');
          const alt = it.alt || '';
          const a = document.createElement('a');
          a.className = 'photo';
          a.href = fullPath(id);
          a.dataset.full = a.href;
          a.innerHTML = `<img loading="lazy" decoding="async" src="${fullPath(id)}" alt="${alt}">`;
          grid.appendChild(a);
        });
        i += slice.length;
        btn.hidden = i >= items.length;
        refreshAnchors();
      }

      // --- Lightbox Logik ---
      const lb    = document.getElementById('lightbox');
      const lbImg = document.getElementById('lightbox-img');
      const lbClose = document.querySelector('.lb-close');
      const lbPrev  = document.querySelector('.lb-prev');
      const lbNext  = document.querySelector('.lb-next');
      const lbI     = document.getElementById('lb-i');
      const lbN     = document.getElementById('lb-n');
      if (lbN) lbN.textContent = String(items.length);

      function show(index){
        if (!items.length) return;

        // wrap-around Ã¼ber die *gesamte* Anzahl
        if (index < 0) index = items.length - 1;
        if (index >= items.length) index = 0;
        idx = index;

        // aktuellen Eintrag aus items holen
        const it = items[idx];
        const id  = it.id || it.file?.replace(/\.\w+$/, '');
        const alt = it.alt || '';

        const src = fullPath(id);

        lbImg.src = '';
        lbImg.alt = alt;
        lbImg.src = src;

        // Counter: aktuelle Position / Gesamt
        lbI.textContent = String(idx + 1);
        lbN.textContent = String(items.length);

        // Preload next/prev (ebenfalls Ã¼ber items, nicht anchors)
        const nextIdx = (idx + 1) % items.length;
        const prevIdx = (idx - 1 + items.length) % items.length;
        const nextId  = items[nextIdx].id || items[nextIdx].file?.replace(/\.\w+$/, '');
        const prevId  = items[prevIdx].id || items[prevIdx].file?.replace(/\.\w+$/, '');
        new Image().src = fullPath(nextId);
        new Image().src = fullPath(prevId);
      }

      function openLightbox(index){
        document.body.classList.add('lb-open');
        lb.hidden = false;
        show(index);
      }

      function closeLightbox(){
        lb.hidden = true;
        lbImg.src = '';
        document.body.classList.remove('lb-open');
      }

      // Klick auf Thumbnail -> Lightbox Ã¶ffnen
      grid.addEventListener('click', (e) => {
        const a = e.target.closest('a.photo');
        if (!a) return;
        e.preventDefault();
        openLightbox(parseInt(a.dataset.index || '0', 10));
      });

      // Buttons
      lbClose.addEventListener('click', closeLightbox);
      lbPrev.addEventListener('click', () => show(idx - 1));
      lbNext.addEventListener('click', () => show(idx + 1));

      // Overlay-Klick schlieÃŸt
      lb.addEventListener('click', (e) => { if (e.target === lb) closeLightbox(); });

      // Keyboard: ESC, â† â†’
      // document.addEventListener('keydown', (e) => {
      //  if (lb.hidden) return;
      //  if (e.key === 'Escape') closeLightbox();
      //  if (e.key === 'ArrowLeft') show(idx - 1);
      //  if (e.key === 'ArrowRight') show(idx + 1);
      // });

      function onLightboxKeydown(e) {
        if (lb.hidden) return;

        // Harte Blockade fÃ¼r Safari/macOS, damit ESC nicht das App-Vollbild verlÃ¤sst
        if (e.key === 'Escape' || e.key === 'Esc') {
          e.preventDefault();
          e.stopPropagation();
          if (typeof e.stopImmediatePropagation === 'function') e.stopImmediatePropagation();
          closeLightbox();
          return;
        }

        if (e.key === 'ArrowLeft') {
          e.preventDefault();
          e.stopPropagation();
          show(idx - 1);
        } else if (e.key === 'ArrowRight') {
          e.preventDefault();
          e.stopPropagation();
          show(idx + 1);
        }
      }

      // WICHTIG: capture:true, damit wir vor anderen Listenern/Browserevents drankommen
      window.addEventListener('keydown', onLightboxKeydown, { capture: true });

      // Touch-Swipe
      lb.addEventListener('touchstart', (e) => {
        touchStartX = e.touches[0].clientX;
      }, {passive:true});
      lb.addEventListener('touchend', (e) => {
        if (touchStartX == null) return;
        const dx = e.changedTouches[0].clientX - touchStartX;
        touchStartX = null;
        if (Math.abs(dx) > 40) {
          if (dx > 0) show(idx - 1); else show(idx + 1);
        }
      });

      // Initial
      renderNext();
      btn.hidden = items.length <= PAGE;
      btn.addEventListener('click', () => renderNext());
    })();
    </script>

    <script>
document.querySelectorAll('#music .embed.video video').forEach(v => {
  // Initial: alle als Thumbnail markieren
  v.classList.add('thumb');

  v.addEventListener('play', () => {
    v.classList.remove('thumb');
    v.classList.add('playing');
  });

  v.addEventListener('pause', () => {
    // Wenn wieder gestoppt/neu gestartet wird, zurÃ¼ck zu Thumb-Ansicht
    if (v.currentTime === 0 || v.ended) {
      v.classList.remove('playing');
      v.classList.add('thumb');
    }
  });

  v.addEventListener('ended', () => {
    v.classList.remove('playing');
    v.classList.add('thumb');
    v.currentTime = 0;
  });
});
</script>

<script>
(() => {
  const vids = Array.from(document.querySelectorAll('#music .embed.video video'));

  // Alle Videos bekommen initial die Thumb-Optik (fÃ¼llt die 16:9-Kachel)
  vids.forEach(v => v.classList.add('thumb'));

  vids.forEach(v => {
    v.addEventListener('play', () => {
      // Nur ein Video "aktiv" halten
      vids.forEach(o => { if (o !== v) o.pause(); });

      v.classList.add('playing');   // echte Ratio
      v.classList.remove('thumb');  // keine 16:9-Thumb-Optik mehr
    });

    v.addEventListener('pause', () => {
      if (v.currentTime === 0) {
        // Wenn direkt am Anfang gestoppt -> wieder Thumb/Poster zeigen
        v.classList.remove('playing');
        v.classList.add('thumb');
      } else {
        // Wichtig: playing NICHT entfernen -> Freeze-Frame bleibt sichtbar
        v.classList.add('playing');
        v.classList.remove('thumb');
      }
    });

    v.addEventListener('ended', () => {
      // Standard: auch am Ende den letzten Frame stehenlassen
      v.classList.add('playing');
      v.classList.remove('thumb');

      // Falls du lieber zurÃ¼ck zum Poster mÃ¶chtest, nimm stattdessen:
      // v.classList.remove('playing');
      // v.currentTime = 0;
      // v.classList.add('thumb');
    });
  });
})();
</script>  

<script>
/* Expand-only the pulse zone (not the link hitbox) */
(() => {
  const home = document.querySelector('.home-link');
  if (!home) return;

  const pulseOn = () => {
    home.classList.add('tapped');
    // Keep the pulse a bit longer so itâ€™s visible during the scroll-to-#top jump
    clearTimeout(pulseOn._t);
    pulseOn._t = setTimeout(() => home.classList.remove('tapped'), 100);
  };

  // helper: is a touch within an expanded rectangle around the home link?
  function nearHome(touch, expand = 14) {
    const r = home.getBoundingClientRect();
    return (
      touch.clientX >= r.left - expand &&
      touch.clientX <= r.right + expand &&
      touch.clientY >= r.top - expand &&
      touch.clientY <= r.bottom + expand
    );
  }

  // Global touchstart: if finger lands near the home icon, show pulse.
  // We do NOT preventDefault â€” links behave exactly the same.
  window.addEventListener('touchstart', (e) => {
    const t = e.touches && e.touches[0];
    if (!t) return;
    if (nearHome(t, 10)) pulseOn();
  }, { passive: true });

  // Keep your existing listeners working too:
  home.addEventListener('touchstart', () => pulseOn(), { passive: true });
  home.addEventListener('mousedown', () => pulseOn());
})();
</script>

<script>
(() => {
  if (window.innerWidth > 900) return;
  // CSS-Empfehlung: html { scroll-behavior: auto; } (verhindert Konflikte)
  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  let rafId = null;
  let cancelers = [];

  // ðŸŽ¬ Cinematic easing â€“ sanftes Beschleunigen & Abbremsen
  function easeInOutQuint(t){
    return t < 0.5
      ? 16 * t * t * t * t * t
      : 1 - Math.pow(-2 * t + 2, 5) / 2;
  }

  function getHeaderOffset(){
    const val = getComputedStyle(document.documentElement).getPropertyValue('--header-h').trim();
    const n = parseFloat(val || '0');
    return Number.isFinite(n) ? n : 0;
  }

  function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

  // ðŸŽ¥ Dauer dynamisch mit Strecke: langsam, filmisch
  function durationFor(distancePx){
    // 0.8 ms pro px, min 420 ms, max 1800 ms
    return clamp(Math.round(distancePx * 0.8), 420, 1800);
  }

  function cancelOnUserInput(){
    const stop = () => { if (rafId) { cancelAnimationFrame(rafId); rafId = null; } cleanup(); };
    const optsPassive = { passive: true };
    const optsActive  = { passive: false };

    const list = [
      ['wheel', stop, optsActive],
      ['touchstart', stop, optsPassive],
      ['touchmove', stop, optsPassive],
      ['keydown', (e) => {
        const keys = ['ArrowUp','ArrowDown','PageUp','PageDown','Home','End','Space',' '];
        if (keys.includes(e.key)) stop();
      }, optsPassive],
      ['mousedown', stop, optsPassive]
    ];

    list.forEach(([ev, fn, opts]) => {
      window.addEventListener(ev, fn, opts);
      cancelers.push(() => window.removeEventListener(ev, fn, opts));
    });

    function cleanup(){ cancelers.splice(0).forEach(off => off()); }
    return cleanup;
  }

  function smoothScrollTo(targetY, dur){
    if (rafId) cancelAnimationFrame(rafId);
    const startY = window.scrollY || window.pageYOffset;
    const diff   = targetY - startY;
    if (Math.abs(diff) < 1) return; // already there

    const start  = performance.now();
    const cleanup = cancelOnUserInput();

    const step = (now) => {
      const t = clamp((now - start) / dur, 0, 1);
      const y = startY + diff * easeInOutQuint(t);
      window.scrollTo(0, y);
      if (t < 1 && rafId !== null) {
        rafId = requestAnimationFrame(step);
      } else {
        rafId = null;
        cleanup();
      }
    };
    rafId = requestAnimationFrame(step);
  }

  // ðŸŽ¯ Klicks auf interne Anker-Links abfangen
  document.addEventListener('click', (e) => {
    const a = e.target.closest('a[href^="#"]');
    if (!a) return;
    const hash = a.getAttribute('href');
    const id   = hash.slice(1);
    const target = id ? document.getElementById(id) : document.body;
    if (!target) return;

    e.preventDefault();

    // MenÃ¼ ggf. schlieÃŸen (instant)
    const overlay = document.getElementById('mobile-menu');
    const burger  = document.querySelector('.burger');
    if (overlay && overlay.hasAttribute('data-open')) {
      overlay.removeAttribute('data-open');
      document.body.classList.remove('menu-open');
      if (burger) { burger.setAttribute('aria-expanded','false'); burger.classList.remove('active'); }
    }

    const headerH = getHeaderOffset();
    const startY  = window.scrollY || window.pageYOffset;
    const targetY = Math.max(0, target.getBoundingClientRect().top + startY - headerH);
    const distance = Math.abs(targetY - startY);

    if (prefersReduced) {
      window.scrollTo(0, targetY);
    } else {
      smoothScrollTo(targetY, durationFor(distance));
    }

    // Fokus/URL ohne Sprung
    if (!target.hasAttribute('tabindex')) target.setAttribute('tabindex','-1');
    target.focus?.({ preventScroll: true });
    if (history.pushState) history.pushState(null, '', hash);
    else location.hash = hash;
  }, { passive: false });
})();
</script>




</body>
</html>

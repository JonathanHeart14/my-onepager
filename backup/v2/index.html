<!doctype html>
<html lang="de" data-size="M">
  <head>
    <meta charset="utf-8" />
    <title>Jonathan Heart</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="musician · producer · mixing engineer" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>

    <!-- Fixed Top Navigation -->
    <header class="site-nav">
      <nav class="wrap">
        <!-- Weißes Haus-Icon als SVG -->
        <a href="#top" class="home-link" aria-label="Home">
          <svg class="home-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
            <path d="M3 9.5l9-7 9 7V20a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1V9.5z"/>
          </svg>
        </a>

        <!-- Rechts: Navigation-->
        <ul class="nav-list">
          <li><a href="#about">about</a></li>
          <li><a href="#work">selected work</a></li>
          <li><a href="#music">music</a></li>
          <li><a href="#studio">studio</a></li>
          <li><a href="#services">services</a></li>
          <li><a href="#clients">clients</a></li>
          <li><a href="#contact">contact</a></li>
        </ul>

        <!-- Burger-Button (nur sichtbar auf Mobilea) -->
        <button class="burger" type="button"
          aria-label="Menu"
          aria-controls="mobile-menu"
          aria-expanded="false">☰
        </button>
      </nav>
    </header>

    <!-- Landing Hero (zentriert, wie John Mayer) -->
    <section class="hero landing">
      <div class="hero-inner">
        <h1 class="hero-title">Jonathan Heart</h1>
        <p class="hero-subtitle">musician · producer · mixing engineer</p>
        <div class="social-links">
          <a href="https://instagram.com/deinprofil" target="_blank" aria-label="Instagram">
            <span class="icon-mask" style="--icon: url('assets/icons/Instagram.svg')"></span>
          </a>
          <a href="https://open.spotify.com/artist/deinid" target="_blank" aria-label="Spotify">
            <span class="icon-mask" style="--icon: url('assets/icons/Spotify.svg')"></span>
          </a>
          <a href="https://youtube.com/@deinprofil" target="_blank" aria-label="YouTube">
            <span class="icon-mask" style="--icon: url('assets/icons/Youtube.svg'); width:45px;"></span>
          </a>
          <a href="mailto:deineadresse@email.com" target="_blank" aria-label="Email">
            <span class="icon-mask" style="--icon: url('assets/icons/Mail.svg'); width:43px;"></span>
          </a>
        </div>
       
      </div>
    </section>

    <!-- Erste Content Section -->
    <section id="about" class="wrap section">
      <h2>about.</h2>
      <div>
      </div>
      <div class="split">
        <img src="assets/img/Rose Guitar Square.jpg" alt="Jonathan Heart" class="content-img">
        <div>
          <p class="slogan">clarity through distortion.</p>
          <p>Jonathan Heart is a musician, producer and mixing engineer based in Berlin, Germany. His approach is shaped as much by instruments and live playing as by the technical craft of sound.</p>
          <p>In the studio he is less interested in perfection than in presence, keeping the rough edges that carry emotion. Mixing and mastering are ways of listening closely to the stories of others and enhancing them without erasing what makes them human.</p>
          <p>As part of <em>badbadbad.</em> and in support of <em>Joël João</em>, Jonathan extends this philosophy into collaboration. On stage he is not looking for praise but for resonance, using sound as a way to connect and communicate.</p>
          <p>After years in the studio and on stage technical abilities have moved to the background and made way for an understanding of music as a means to evoke emotion.</p>
        </div>
      </div>
    </section>

    <section id="work" class="wrap section">
      <h2>selected work.</h2>

      <div class="media-grid">

          <!-- Spotify Playlist (fixe Höhe via CSS-Variable; Größe mit .s/.m/.l steuerbar) -->
          <div class="embed spotify">
            <iframe
              src="https://open.spotify.com/embed/playlist/3Dx1Mv3YxzqyDBACvLPxs4?utm_source=generator&theme=0"
              loading="lazy"
              allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
              allowfullscreen>
            </iframe>
          </div>
          <!-- YouTube Playlist (responsiv 16:9 via CSS) -->
          <div class="embed youtube">
            <iframe
              src="https://www.youtube.com/embed/hkcfdRgLheQ?si=AkYb-eO_d8HOrZc8"
              title="YouTube Playlist"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>

          <div class="embed youtube">
            <iframe
              src="https://www.youtube.com/embed/EthbAJ00iqg?si=SSlg-FPbyOAa0HfJ"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>

          <div class="embed youtube">
            <iframe
              src="https://www.youtube.com/embed/DV68w9O-R9E?si=RhxlV3EuEdjDJdax"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>

          <div class="embed youtube">
            <iframe
              src="https://www.youtube.com/embed/REbrKoZy1YI?si=v2KlKfX2F-7jrz2e"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>

          <div class="embed youtube">
            <iframe
              src="https://www.youtube.com/embed/Ic5oqa0zLKM?si=HDdqKrm-X4Xc3vlZ"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>

          <div class="embed youtube">
            <iframe
              src="https://www.youtube.com/embed/Y3vEmhQQbto?si=yOWsaC8aVG_hCxOC"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>

          <div class="embed youtube">
            <iframe
              src="https://www.youtube.com/embed/RtfhpJwiSDU?si=RO1D4SPHQDZPzsBt"
              title="YouTube video player"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen>
            </iframe>
          </div>     
      </div>
    </section>

    <section id="music" class="wrap section">
      <h2>music.</h2>
      <div class="media-grid">

        <div class="embed video">
          <video controls preload="none" playsinline webkit-playsinline data-autoposter>
            <source src="assets/video/Day_at_the_Stu_web.mp4" type="video/mp4" />
          </video>
        </div>

        <div class="embed video">
          <video controls preload="none" playsinline webkit-playsinline data-autoposter>
            <source src="assets/video/Just a little progression I came up with.mp4" type="video/mp4" />
          </video>
        </div>

        <div class="embed video">
          <video controls preload="none" playsinline webkit-playsinline data-autoposter>
            <source src="assets/video/six six strings v4.mp4" type="video/mp4" />
          </video>
        </div>

        <div class="embed video">
          <video controls preload="none" playsinline webkit-playsinline data-autoposter>
            <source src="assets/video/Bass playing/Is this hope.mp4" type="video/mp4" />
          </video>
        </div>

        <div class="embed video">
          <video controls preload="none" playsinline webkit-playsinline data-autoposter>
            <source src="assets/video/Bass playing/melody.mp4" type="video/mp4" />
          </video>
        </div>

        <div class="embed video">
          <video controls preload="none" playsinline webkit-playsinline data-autoposter>
            <source src="assets/video/Bass playing/Quicksand.mp4" type="video/mp4" />
          </video>
        </div>

      </div>
    </section>

    <section id="studio" class="wrap section">
      <h2>studio.</h2>

      <div class="gallery-layout">
        <div id="gallery" class="media-grid"></div>
          <aside class="gallery-footer">
            <button id="gallery-more" class="btn-more" hidden>Load more</button>
          </aside>
        </div>

      <!-- Lightbox mit Navigation -->
      <div id="lightbox" class="lightbox" hidden>
        <button class="lb-close" aria-label="Close">×</button>
        <button class="lb-nav lb-prev" aria-label="Previous">‹</button>
        <img id="lightbox-img" alt="">
        <button class="lb-nav lb-next" aria-label="Next">›</button>
        <div class="lb-counter"><span id="lb-i">1</span>/<span id="lb-n">1</span></div>
      </div>
        <!-- Leistungen/Referenzen -->
    </section>

    <section id="services" class="wrap section">
  <h2>services.</h2>

  <div class="services-grid">
    <!-- Mixing & Mastering -->
    <article class="service-card">
      <h3>Mixing & Mastering</h3>
      <a class="service-img" href="#contact">
        <img src="assets/img/services/mixing.jpg" alt="Mixing console">
      </a>
      <p class="service-desc">Single · EP · Album. Clean & punchy without losing the vibe.</p>
    </article>

    <!-- Recording & Producing -->
    <article class="service-card">
      <h3>Recording & Producing</h3>
      <a class="service-img" href="#contact">
        <img src="assets/img/services/recording.jpg" alt="Recording session">
      </a>
      <p class="service-desc">Vocals, guitars, bass. Mobile or studio — capture with intent.</p>
    </article>

    <!-- Session / Live Playing -->
    <article class="service-card">
      <h3>Session & Live</h3>
      <a class="service-img" href="#contact">
        <img src="assets/img/services/session.png" alt="Session & live playing">
      </a>
      <p class="service-desc">Bass & guitar for your track or stage — tight, musical, reliable.</p>
    </article>
  </div>
    <!-- zentraler Booking-Button -->
  <aside class="gallery-footer">
<a class="btn-more" href="#contact">Contact / Booking</a>
</section>

<section id="clients" class="wrap section">
  <h2>clients.</h2>
  <ul class="clients-grid">
    <li class="client-item">Artist / Band 1</li>
    <li class="client-item">Artist / Band 2</li>
    <li class="client-item">Artist / Band 3</li>
    <li class="client-item">Artist / Band 4</li>
    <li class="client-item">Artist / Band 5</li>
    <li class="client-item">Artist / Band 6</li>
    <li class="client-item">Artist / Band 7</li>
    <li class="client-item">Artist / Band 8</li>
    <li class="client-item">Artist / Band 9</li>
    <!-- … beliebig erweitern … -->
  </ul>
</section>

<section id="contact" class="wrap section">
  <h2>contact.</h2>
  <div class="contact-info">
    <p><strong>Jonathan Heart</strong></p>
    <p><a href="mailto:booking@deinedomain.com">booking@deinedomain.com</a></p>
    <p>Telefon: +49 123 456789</p>
  </div>
</section>


    <footer class="footer">
      <p class="social-links">
        <a href="https://instagram.com/deinprofil" target="_blank" aria-label="Instagram">
          <span class="icon-mask" style="--icon: url('assets/icons/Instagram.svg'); width: 25px;"></span>
        </a>
        <a href="https://open.spotify.com/artist/deinid" target="_blank" aria-label="Spotify">
          <span class="icon-mask" style="--icon: url('assets/icons/Spotify.svg'); width: 25px"></span>
        </a>
        <a href="https://youtube.com/@deinprofil" target="_blank" aria-label="YouTube">
          <span class="icon-mask" style="--icon: url('assets/icons/Youtube.svg'); width: 28px;"></span>
        </a>
        <a href="mailto:deineadresse@email.com" target="_blank" aria-label="Email">
          <span class="icon-mask" style="--icon: url('assets/icons/Mail.svg'); width: 28px;"></span>
        </a>
      </p>

      <p>
        <a href="impressum.html">Impressum</a> | 
        <a href="datenschutz.html">Datenschutzerklärung</a>
      </p>

      <p>© <span id="y"></span> Jonathan Heart
      </p>

    </footer>

    <script>document.getElementById("y").textContent = new Date().getFullYear();</script>

<!-- Java Scripts-->
<script>
  // 1) Referenzen besorgen
  const burger  = document.querySelector('.burger');
  const srcList = document.querySelector('.site-nav .nav-list'); // Liste im Header

  // Wenn etwas fehlt: abbrechen (schützt vor Fehlern)
  if (burger && srcList) {
    // 2) Overlay nur erzeugen, wenn es noch nicht existiert
    let overlay = document.getElementById('mobile-menu');
    if (!overlay) {
      overlay = document.createElement('ul');
      overlay.id = 'mobile-menu';
      overlay.className = 'nav-list nav-overlay';
      overlay.innerHTML = srcList.innerHTML;     // Inhalte klonen
      document.body.appendChild(overlay);         // AUS dem Header herausziehen;


    // Smooth toggle helper to ensure transition is applied
    function _forceFrame() {
      // force reflow
      void overlay.offsetHeight;
      // and one animation frame
      return new Promise(requestAnimationFrame);
    }

    // compute scrollbar width for potential desktop lock (no-op on most mobiles)
    (function computeSBW(){
      const sbw = window.innerWidth - document.documentElement.clientWidth;
      document.documentElement.style.setProperty('--sbw', sbw + 'px');
    })();

    }

    // Animations-Status, um Doppelklicks zu verhindern
    let isAnimating = false;

    // Transition-Ende sauber behandeln (nur für unsere Slide-Animation)
    overlay.addEventListener('transitionend', (e) => {
      if (e.propertyName !== 'transform') return;
      if (overlay.classList.contains('closing')) {
        overlay.classList.remove('closing');     // zurück in den Basiszustand (unsichtbar)
      }
      isAnimating = false;
    });

    // 3) Toggle-Logik
    async function toggleMenu(force) {
      if (overlay.classList.contains('closing')) return;
    /*  if (isAnimating) return; // blocken während der Animation */

      const isOpen = overlay.classList.contains('show');
      const open   = typeof force === 'boolean' ? force : !isOpen;

      if (open) {
        // Sicherheitsmaßnahme: evtl. frühere Inline-Styles entfernen
        isAnimating = true;
        overlay.style.visibility = '';
        overlay.style.pointerEvents = '';

        overlay.classList.remove('closing');
        await _forceFrame();
        overlay.classList.add('show');
        document.body.classList.add('menu-open');
        burger.setAttribute('aria-expanded', 'true');
        burger.classList.add('active');
      } else {

        if (!overlay.classList.contains('show')) return;

        isAnimating = true;
        overlay.classList.add('closing');
        await _forceFrame();
        overlay.classList.remove('show');   // löst die Slide-up Transition aus
        document.body.classList.remove('menu-open');
        burger.setAttribute('aria-expanded', 'false');
        burger.classList.remove('active');
        burger.blur();  // danach Fokus weg → nicht blau 
      }
    }

    // 4) Events
    burger.addEventListener('click', () => toggleMenu());
    overlay.addEventListener('click', (e) => {
      if (e.target.closest('a')) toggleMenu(false); // Link-Klick schließt
    });
    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') toggleMenu(false);    // ESC schließt
    });

    // Home-Link sofort Fokus verlieren (nie blau hängenbleiben)
document.querySelector('.home-link')?.addEventListener('click', (e) => {
  e.currentTarget.blur();
});

// Home-Icon: kurzer iOS-Tap-Pulse, danach kein Blau kleben
const home = document.querySelector('.home-link');
if (home) {
  let tapTimer = null;

  const pulseOn = () => {
    clearTimeout(tapTimer);
    home.classList.add('tapped');
    // nach ~180ms wieder normal
    tapTimer = setTimeout(() => home.classList.remove('tapped'), 180);
  };

  // iOS/Touch: sofort beim Finger-Down pulsen
  home.addEventListener('touchstart', pulseOn, {passive:true});
  // Fallback für Maus/Sim: mousedown
  home.addEventListener('mousedown', pulseOn);

  // Beim Klick Fokus weg, damit nix hängenbleibt
  home.addEventListener('click', (e) => {
    // sichergehen, dass der Pulse nach dem Navigieren nicht klebt
    setTimeout(() => {
      home.classList.remove('tapped');
      home.blur();
    }, 0);
  });
}


    // 5) ARIA auf dem Button setzen
    if (!burger.hasAttribute('type')) burger.setAttribute('type', 'button');
    burger.setAttribute('aria-controls', 'mobile-menu');
    burger.setAttribute('aria-expanded', 'false');
  }
</script>






    <script>
    (() => {
      const vids = [...document.querySelectorAll('video[data-autoposter]')];

      const makePoster = (vid) => {
        // Quelle holen
        const srcEl = vid.querySelector('source');
        const src = srcEl ? srcEl.src : vid.currentSrc;
        if (!src) return;

        // Offscreen-Video zum Frame-Grab
        const temp = document.createElement('video');
        temp.muted = true;
        temp.playsInline = true;
        temp.preload = 'auto';
        temp.crossOrigin = 'anonymous'; // für gleiche Domain ok; bei CDN CORS-Header nötig

        const s = document.createElement('source');
        s.src = src; s.type = 'video/mp4';
        temp.appendChild(s);

        // 1) Metadaten da -> auf Frame 0.05s springen
        temp.addEventListener('loadedmetadata', () => {
          try { temp.currentTime = 0.05; } catch(e) { /* iOS kann gleich seeken */ }
        }, { once: true });

        // 2) Nach dem Seek Frame in Canvas ziehen -> poster setzen
        temp.addEventListener('seeked', () => {
          try {
            const c = document.createElement('canvas');
            c.width = temp.videoWidth; c.height = temp.videoHeight;
            c.getContext('2d').drawImage(temp, 0, 0, c.width, c.height);
            const dataURL = c.toDataURL('image/jpeg', 0.72);
            vid.setAttribute('poster', dataURL);
          } catch (e) {
            // Wenn CORS blockt: Poster bleibt leer (kein Beinbruch)
          }
          // Aufräumen
          temp.pause();
          temp.removeAttribute('src');
          while (temp.firstChild) temp.removeChild(temp.firstChild);
        }, { once: true });

        temp.load();
      };

      const io = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (!entry.isIntersecting) return;
          const vid = entry.target;
          obs.unobserve(vid);
          if (!vid.getAttribute('poster')) makePoster(vid);
        });
      }, { rootMargin: '200px' });

      vids.forEach(v => io.observe(v));
    })();
    </script>

    <!-- Bilder Gallery Studio Script-->
    <script>
    (async () => {
      const grid = document.querySelector('#gallery');
      const btn  = document.querySelector('#gallery-more');

      const PAGE = 6; // initial 6 Bilder, bleibt wie bei dir
      const BASE = 'assets/img/gallery/Studio%20Bilder/';
      const EXT  = 'jpg';

      let items = [], i = 0;
      let anchors = [];   // <a.photo>-Liste
      let idx = 0;        // aktueller Index in Lightbox
      let touchStartX = null;

      try {
        const res = await fetch(`${BASE}manifest.json`);
        items = await res.json();
      } catch (e) {
        console.warn('No gallery manifest', e);
      }

      const fullPath = id => `${BASE}full/${id}.${EXT}`;

      function refreshAnchors(){
        anchors = Array.from(grid.querySelectorAll('a.photo'));
        anchors.forEach((a, k) => a.dataset.index = String(k)); // k == Index in items für bisher gerenderte
        // lbN NICHT hier setzen
      }

      grid.addEventListener('click', (e) => {
        const a = e.target.closest('a.photo');
        if (!a) return;
        e.preventDefault();
        openLightbox(parseInt(a.dataset.index || '0', 10)); // <- dieser Index gilt jetzt global in items
      });

      function renderNext(n = PAGE) {
        const slice = items.slice(i, i + n);
        slice.forEach((it) => {
          const id  = it.id || it.file?.replace(/\.\w+$/, '');
          const alt = it.alt || '';
          const a = document.createElement('a');
          a.className = 'photo';
          a.href = fullPath(id);
          a.dataset.full = a.href;
          a.innerHTML = `<img loading="lazy" decoding="async" src="${fullPath(id)}" alt="${alt}">`;
          grid.appendChild(a);
        });
        i += slice.length;
        btn.hidden = i >= items.length;
        refreshAnchors();
      }

      // --- Lightbox Logik ---
      const lb    = document.getElementById('lightbox');
      const lbImg = document.getElementById('lightbox-img');
      const lbClose = document.querySelector('.lb-close');
      const lbPrev  = document.querySelector('.lb-prev');
      const lbNext  = document.querySelector('.lb-next');
      const lbI     = document.getElementById('lb-i');
      const lbN     = document.getElementById('lb-n');
      if (lbN) lbN.textContent = String(items.length);

      function show(index){
        if (!items.length) return;

        // wrap-around über die *gesamte* Anzahl
        if (index < 0) index = items.length - 1;
        if (index >= items.length) index = 0;
        idx = index;

        // aktuellen Eintrag aus items holen
        const it = items[idx];
        const id  = it.id || it.file?.replace(/\.\w+$/, '');
        const alt = it.alt || '';

        const src = fullPath(id);

        lbImg.src = '';
        lbImg.alt = alt;
        lbImg.src = src;

        // Counter: aktuelle Position / Gesamt
        lbI.textContent = String(idx + 1);
        lbN.textContent = String(items.length);

        // Preload next/prev (ebenfalls über items, nicht anchors)
        const nextIdx = (idx + 1) % items.length;
        const prevIdx = (idx - 1 + items.length) % items.length;
        const nextId  = items[nextIdx].id || items[nextIdx].file?.replace(/\.\w+$/, '');
        const prevId  = items[prevIdx].id || items[prevIdx].file?.replace(/\.\w+$/, '');
        new Image().src = fullPath(nextId);
        new Image().src = fullPath(prevId);
      }

      function openLightbox(index){
        document.body.classList.add('lb-open');
        lb.hidden = false;
        show(index);
      }

      function closeLightbox(){
        lb.hidden = true;
        lbImg.src = '';
        document.body.classList.remove('lb-open');
      }

      // Klick auf Thumbnail -> Lightbox öffnen
      grid.addEventListener('click', (e) => {
        const a = e.target.closest('a.photo');
        if (!a) return;
        e.preventDefault();
        openLightbox(parseInt(a.dataset.index || '0', 10));
      });

      // Buttons
      lbClose.addEventListener('click', closeLightbox);
      lbPrev.addEventListener('click', () => show(idx - 1));
      lbNext.addEventListener('click', () => show(idx + 1));

      // Overlay-Klick schließt
      lb.addEventListener('click', (e) => { if (e.target === lb) closeLightbox(); });

      // Keyboard: ESC, ← →
      // document.addEventListener('keydown', (e) => {
      //  if (lb.hidden) return;
      //  if (e.key === 'Escape') closeLightbox();
      //  if (e.key === 'ArrowLeft') show(idx - 1);
      //  if (e.key === 'ArrowRight') show(idx + 1);
      // });

      function onLightboxKeydown(e) {
        if (lb.hidden) return;

        // Harte Blockade für Safari/macOS, damit ESC nicht das App-Vollbild verlässt
        if (e.key === 'Escape' || e.key === 'Esc') {
          e.preventDefault();
          e.stopPropagation();
          if (typeof e.stopImmediatePropagation === 'function') e.stopImmediatePropagation();
          closeLightbox();
          return;
        }

        if (e.key === 'ArrowLeft') {
          e.preventDefault();
          e.stopPropagation();
          show(idx - 1);
        } else if (e.key === 'ArrowRight') {
          e.preventDefault();
          e.stopPropagation();
          show(idx + 1);
        }
      }

      // WICHTIG: capture:true, damit wir vor anderen Listenern/Browserevents drankommen
      window.addEventListener('keydown', onLightboxKeydown, { capture: true });

      // Touch-Swipe
      lb.addEventListener('touchstart', (e) => {
        touchStartX = e.touches[0].clientX;
      }, {passive:true});
      lb.addEventListener('touchend', (e) => {
        if (touchStartX == null) return;
        const dx = e.changedTouches[0].clientX - touchStartX;
        touchStartX = null;
        if (Math.abs(dx) > 40) {
          if (dx > 0) show(idx - 1); else show(idx + 1);
        }
      });

      // Initial
      renderNext();
      btn.hidden = items.length <= PAGE;
      btn.addEventListener('click', () => renderNext());
    })();
    </script>

    <script>
document.querySelectorAll('#music .embed.video video').forEach(v => {
  // Initial: alle als Thumbnail markieren
  v.classList.add('thumb');

  v.addEventListener('play', () => {
    v.classList.remove('thumb');
    v.classList.add('playing');
  });

  v.addEventListener('pause', () => {
    // Wenn wieder gestoppt/neu gestartet wird, zurück zu Thumb-Ansicht
    if (v.currentTime === 0 || v.ended) {
      v.classList.remove('playing');
      v.classList.add('thumb');
    }
  });

  v.addEventListener('ended', () => {
    v.classList.remove('playing');
    v.classList.add('thumb');
    v.currentTime = 0;
  });
});
</script>

<script>
(() => {
  const vids = Array.from(document.querySelectorAll('#music .embed.video video'));

  // Alle Videos bekommen initial die Thumb-Optik (füllt die 16:9-Kachel)
  vids.forEach(v => v.classList.add('thumb'));

  vids.forEach(v => {
    v.addEventListener('play', () => {
      // Nur ein Video "aktiv" halten
      vids.forEach(o => { if (o !== v) o.pause(); });

      v.classList.add('playing');   // echte Ratio
      v.classList.remove('thumb');  // keine 16:9-Thumb-Optik mehr
    });

    v.addEventListener('pause', () => {
      if (v.currentTime === 0) {
        // Wenn direkt am Anfang gestoppt -> wieder Thumb/Poster zeigen
        v.classList.remove('playing');
        v.classList.add('thumb');
      } else {
        // Wichtig: playing NICHT entfernen -> Freeze-Frame bleibt sichtbar
        v.classList.add('playing');
        v.classList.remove('thumb');
      }
    });

    v.addEventListener('ended', () => {
      // Standard: auch am Ende den letzten Frame stehenlassen
      v.classList.add('playing');
      v.classList.remove('thumb');

      // Falls du lieber zurück zum Poster möchtest, nimm stattdessen:
      // v.classList.remove('playing');
      // v.currentTime = 0;
      // v.classList.add('thumb');
    });
  });
})();
</script>  

<script>
/* Expand-only the pulse zone (not the link hitbox) */
(() => {
  const home = document.querySelector('.home-link');
  if (!home) return;

  const pulseOn = () => {
    home.classList.add('tapped');
    // Keep the pulse a bit longer so it’s visible during the scroll-to-#top jump
    clearTimeout(pulseOn._t);
    pulseOn._t = setTimeout(() => home.classList.remove('tapped'), 220);
  };

  // helper: is a touch within an expanded rectangle around the home link?
  function nearHome(touch, expand = 14) {
    const r = home.getBoundingClientRect();
    return (
      touch.clientX >= r.left - expand &&
      touch.clientX <= r.right + expand &&
      touch.clientY >= r.top - expand &&
      touch.clientY <= r.bottom + expand
    );
  }

  // Global touchstart: if finger lands near the home icon, show pulse.
  // We do NOT preventDefault — links behave exactly the same.
  window.addEventListener('touchstart', (e) => {
    const t = e.touches && e.touches[0];
    if (!t) return;
    if (nearHome(t, 10)) pulseOn();
  }, { passive: true });

  // Keep your existing listeners working too:
  home.addEventListener('touchstart', () => pulseOn(), { passive: true });
  home.addEventListener('mousedown', () => pulseOn());
})();
</script>

<script>
(() => {
  const home   = document.querySelector('.home-link');
  const burger = document.querySelector('.burger');
  // Nimm, was vorhanden ist: zuerst #mobile-menu, sonst nav-overlay/nav-list
  const overlay = document.getElementById('mobile-menu') 
               || document.querySelector('.nav-overlay') 
               || document.querySelector('.nav-list');

  function isMenuOpen() {
    return document.body.classList.contains('menu-open') ||
           (overlay && overlay.classList.contains('show'));
  }

  function closeMenu() {
    document.body.classList.remove('menu-open');
    if (overlay) {
      overlay.classList.remove('show');
      overlay.setAttribute('aria-hidden', 'true');
    }
    if (burger) burger.setAttribute('aria-expanded', 'false');
        burger.classList.remove('active');   // falls du eine .active-Klasse nutzt
    burger.blur();                       // entfernt den blauen Fokusrahmen
  }

  if (home) {
    // KLICK schließt das Menü, lässt aber die Navigation normal weiterlaufen
    home.addEventListener('click', () => {
      if (isMenuOpen()) closeMenu();
    });

    // optional: auf Touch-Geräten direkt beim Loslassen
    home.addEventListener('touchend', () => {
      if (isMenuOpen()) closeMenu();
    }, { passive: true });
  }
  
})();
</script>

</body>
</html>
